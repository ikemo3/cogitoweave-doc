---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts: []
  produces:
    - "security-requirements"
---

# セキュリティ制約

## 前提

この設計判断は CogitoWeave システムのセキュリティ対応レベルの選択を扱う。[経済制約](../02-external-environment/economic-constraints/README.md)で決定された個人開発での制約を前提として、法規制・プラットフォーム規約という外部制約要因により、実装すべきセキュリティレベルの境界を設定する必要がある。

## 論理

CogitoWeave のセキュリティ制約は、法規制遵守と個人開発でのプロトタイプ段階という現実的制約の両立を基準として設定する必要がある。

まず、法規制制約の受容として、個人情報保護法等の基本的な法的要求を遵守し、プライバシー配慮設計を採用する。作成者個人のデバイス環境のみでの利用であり、一般的な Web アプリケーションと比較して攻撃対象面は大幅に限定される。

外部依存は LLM API と MCP 統合のみに制限されているため、これらの通信における HTTPS 確保を必須とし、各種プラットフォーム規約を遵守する。

プロトタイプ段階では中核機能の実証が最優先であり、基本的な Web セキュリティ対策は確保するが、高度なセキュリティ機能は段階的に実装する方針とする。

## 結論

CogitoWeave のセキュリティ制約を以下のように決定する。なお、アクセス制御や HTTPS 暗号化についてはこのプロダクトではなく、Cloudflare Access などの外部サービスを利用することを前提とする。

<!-- FOUNDATION_BEGIN: security-requirements -->

- 必須対応
  - 外部 API 接続時の HTTPS 通信（LLM API・MCP 統合）
  - SQL インジェクション対策・XSS 対策の基本実装
  - 個人情報保護法に基づくプライバシー配慮設計
  - LLM API 利用規約・各種サービス規約の遵守
  - 攻撃対象面の限定（作成者個人環境のみ）によるリスク軽減
- 任意対応
  - 作成者本人のみアクセス可能なアクセス制御
  - 全通信の HTTPS 暗号化
- 除外対応
  - 高度なユーザー認証機能（プロトタイプ段階）
  - データ暗号化（プロトタイプ段階）
  - 詳細なアクセス制御（プロトタイプ段階）

<!-- FOUNDATION_END: security-requirements -->
