---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts: []
  produces: []
---

# 保守性 (Maintainability)

## 前提

- [品質属性とトレードオフ](README.md)で定義された品質特性の分析
- システムの保守に関する要件の評価

## 論理

保守性とは、開発者によって製品又はシステムが修正できる有効性及び効率性の度合いを表す。修正には、環境の変化、要求の変化、又は欠陥の修正に対する、ソフトウェアの訂正、改良又は適応を含む。

### 期待する性質

- モジュール性: システム又はコンピュータプログラムが、構成要素への変更が他の構成要素に最小限の影響しか与えないように個別の構成要素で構成されている度合い
- 再利用性: 一つ以上のシステムで、又は他の資産を構築するために、資産が使用できる度合い
- 解析性: 製品又はシステムの一つ以上の部分への意図した変更が製品又はシステムに与える影響を評価すること、欠陥又は故障の原因を診断すること、又は修正しなければならない部分を識別することの有効性及び効率性の度合い
- 修正性: 欠陥の除去又は新しい要求の実装のために、製品又はシステムが有効かつ効率的に修正できる度合い
- 試験性: システム、製品又は構成要素に対してテスト基準を確立し、その基準が満たされているかどうかを決定するためにテストを実行できる有効性及び効率性の度合い

### 優先度

- 高。週7時間の個人開発で進化させ続けるために最重要の制約。
- 変更容易性と理解容易性を最優先に設計する。

### トレードオフ相手

- 性能: 早すぎる最適化や特殊実装は保守を困難にする。
- 機能適合性: 抽象化過多は短期の機能追加速度を落とす。

### 論理的影響

- 構成: API/サービス/テンプレート/バリデータ/テストの明確な層分離（本リポ構成に準拠）。
- 規約: ruff format + lint を必須化。型は段階導入（重要境界に注力）。
- テスト: 変更箇所に最小限のユニットテストを追加。ドキュメントはdocs_validatorで自動検証。
- 依存: 依存最小主義。LLM/可視化以外は標準ライブラリ優先。

### 判断

- 命名・配置はガイドラインに従う（ `services/<domain>_service.py` など）。
- ドキュメントはパターンに沿って必ず更新し、契約(FOUNDATION/PREMISE)でUI/機能仕様を固定。
- 大規模リファクタは段階的に feature flag で切替。

### 備考

- Conventional Commits + 変更理由の記録を徹底。PR テンプレートに沿う。
- 重要分岐は回帰テスト追加。不要な最適化は避ける。

## 結論

単独開発で継続進化できる構造・規約・自動検証を整え、変更容易性を最優先に判断する。
