---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts: []
  produces: []
---

# 信頼性 (Reliability)

## 前提

- [品質属性とトレードオフ](README.md)で定義された品質特性の分析
- システムの信頼性に関する要件の評価

## 論理

信頼性とは、指定された条件の下で、指定された時間にわたって、システム、製品又は構成要素が指定された機能を実行する度合いを表す。

### 期待する性質

- 成熟性: 通常の運用中にシステム、製品又は構成要素が信頼性に対するニーズを満たす度合い
- 可用性: システム、製品又は構成要素が運用可能及びアクセス可能であり、要求されたときに機能を実行する度合い
- 障害許容性: ハードウェア障害又はソフトウェア障害にもかかわらず、システム、製品又は構成要素が意図したとおりに動作する度合い
- 回復性: 中断時又は故障時に、製品又はシステムが直接影響を受けるデータを回復し、望ましい状態を復元できる度合い

### 優先度

- 中〜高。個人利用が主体だが、学習資産の喪失は致命的な体験劣化を招く。
- 保存系の堅牢性（オートセーブ/復元）を重視。

### トレードオフ相手

- 性能: リトライ/冪等性/トランザクションはオーバーヘッドを生む。
- 保守性: フォールトハンドリングが複雑化しがち。

### 論理的影響

- クライアントは編集内容をローカル一時保存（LocalStorage）し、通信断でも復帰可能。
- サーバは保存APIを冪等化（リクエストID/UUID）し、二重保存を防止。
- DBはSQLite WALで耐障害性を高め、定期バックアップ（ローテーション）を実施。
- 外部取得（記事/LLM）はタイムアウト・再試行（指数バックオフ）・失敗時のユーザ誘導を標準化。

### 判断

- 保存系はオートセーブ＋手動保存を併用。サーバ保存失敗時はローカル退避し再送列に積む。
- APIはトランザクション境界を明確化（概念/メモ/関係の単位）し、部分失敗は整合復元を実装。
- ヘルスチェック・障害時通知（ログ監視）を導入しMTTRを短縮。

### 備考

- 回復手順（Runbook）を最小限整備。バックアップ復元の手順は定期演習。
- 重要操作は確認ダイアログよりも Undo 提供を優先。

## 結論

編集・保存経路を中心に冪等性と回復性を設計に組み込み、ローカル退避と再送でユーザ体験の連続性を担保する。
