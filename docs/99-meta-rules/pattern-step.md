---
doc_type: "pattern-guide"
status: "draft"
---

# pattern-step パターン - 順序関係の設計判断統合ガイド

## 概要

pattern-step は、**明確な順序関係を持つ複数の設計判断を段階的に統合する**パターンです。各判断が前段階の結果に依存し、特定の順序で実行・理解する必要がある関係にあることが特徴です。

## パターン定義

段階的組成関数の列 fₙ ∘ fₙ₋₁ ∘ ... ∘ f₂ ∘ f₁: A → B を構成する。各 fᵢ: Aᵢ₋₁ → Aᵢ は前段階の出力に依存し、**合成関数の結合法則**により (f₃ ∘ f₂) ∘ f₁ = f₃ ∘ (f₂ ∘ f₁) が成立する。

## 適用場面

- 開発プロセスの段階的な判断(要件定義 → 設計 → 実装 → テスト)
- 技術選択の依存関係がある判断(言語選択 → フレームワーク選択 → ライブラリ選択)
- アーキテクチャの層別設計(データ層 → ビジネス層 → プレゼンテーション層)
- セキュリティの多段防御設計(認証 → 認可 → 暗号化 → 監査)

## 他パターンとの区別

- **pattern-step**: 順序関係と依存関係がある設計判断(直列関係)
- **pattern-composite**: 独立関係の設計判断(並列関係)

## テンプレート構造

```markdown
---
doc_type: "pattern-step"
---

# [設計判断統合対象名]

## 目次

1. [概要](#概要)
2. [処理フロー](#処理フロー)
3. [ステップ 1: 段階 1 の説明](#ステップ-1-段階1の説明)
4. [ステップ 2: 段階 2 の説明](#ステップ-2-段階2の説明)

## 概要

[段階的判断の全体的な方針と背景]

- **関心事**: [何に焦点を当てるか]
- **時間軸**: [いつの視点か]
- **視点**: [誰の視点か]
- **成果物**: [何を作るか]

[段階的なプロセスの説明文]

## 処理フロー

(mermaid の図が入る)

## ステップ 1: [段階 1 の説明]

[段階 1 の詳細説明]により[前段階の結果を受けた判断内容]。

- **[サブプロセス 1](01-subprocess1/README.md)** - 説明
- **[サブプロセス 2](02-subprocess2/README.md)** - 説明

## ステップ 2: [段階 2 の説明]

[段階 2 の詳細説明]により[前段階の結果を受けた判断内容]。

- **[サブプロセス 3](03-subprocess3/README.md)** - 説明
- **[サブプロセス 4](04-subprocess4/README.md)** - 説明
```

### ファイル命名規約

個別ファイルは必ず連番で命名：01-subprocess1/, 02-subprocess2/, 03-subprocess3/

## 品質チェックリスト

### 必須要素

- [ ] 概要が記述されている
- [ ] mermaid 図で順序関係が視覚化されている
- [ ] 各ステップが記述されている
- [ ] 各段階の依存関係が明確になっている

### 構造チェック

- [ ] doc_type が "pattern-step" になっている
- [ ] mermaid 図が `-->` による直列関係になっている
- [ ] ファイル名に 01-, 02- の連番が付いている

### 内容チェック

- [ ] 「ステップ n:」の形式を使用している
- [ ] 各ステップで前段階の結果を受けた判断内容になっている
- [ ] 並列関係ではなく順序関係になっている
