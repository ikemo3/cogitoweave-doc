---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts:
    - "platform-constraints"
    - "api-communication-auth"
  produces:
    - "security"
---

# セキュリティ

## 前提

脆弱性対策要件を決定し、技術スタック選定の制約条件を設定する。業界固有のセキュリティ要件が技術選択を大きく左右するため、技術選定前にセキュリティ方針を決定する。

### 既存決定事項

<!-- PREMISE_BEGIN: platform-constraints -->

1. **Mac 環境制約**: Chrome 上で情報整理機能が完全動作すること
2. **iPhone 環境制約**: Safari 上で情報参照機能が基本動作すること
3. **Web 標準採用基準**: Baseline Newly available を技術選択の判断基準とすること
4. **マルチデバイス前提**: Web 技術による複数デバイス間データ共有を前提とすること

これ以外の基本セキュリティ対策（HTTPS、SQLi/XSS 対策等）、現代 Web 標準性能要件、個人情報保護法等の法規制遵守、個人環境限定によるセキュリティリスク軽減は現代 Web 開発標準に準拠する。

<!-- PREMISE_END: platform-constraints -->

<!-- PREMISE_BEGIN: api-communication-auth -->

**静的 HTML + CSR・MPA + ページ内 SPA・REST API・認証認可なし**を採用する。

- レンダリング: 静的 HTML + CSR（手書き HTML + クライアントサイドインタラクティブ）
- 構成: MPA + ページ内 SPA（概念管理ページのみリッチ UI）
- API 通信: REST API
- 認証認可: なし（Cloudflare 保護のみ）

<!-- PREMISE_END: api-communication-auth -->

## 論理

### セキュリティ脅威モデル

CogitoWeave の特性:

1. **個人使用**: 外部攻撃のみ考慮、内部脅威なし
2. **思考支援ツール**: 金融・医療等の厳格要件なし
3. **Cloudflare 保護**: 基本的な外部攻撃は保護済み

### セキュリティ要件レベル

**対策範囲**: 基本的 Web 脆弱性対策のみ

- XSS・SQL インジェクション・CSRF 等の標準的脅威

**不要な対策**:

- 暗号化要件（HSM サポート等）
- 監査ログ・コンプライアンス対応
- 高度な認証認可システム

### 現代開発環境の自然なセキュリティ

**言語・フレームワークレベル**:

- メモリ安全性・型安全性は現代言語で標準
- CSRF・SQL インジェクション対策はフレームワーク標準機能

**開発ツールチェーン**:

- リンタ・脆弱性チェックは開発フローに標準組み込み
- SAST（静的アプリケーションセキュリティテスト）による自動脆弱性検出

**実質的結果**: 特別なセキュリティ要件を設定しなくても、現代的開発環境選択により自動的にセキュアコーディング環境を実現

## 結論

<!-- FOUNDATION_BEGIN: security -->

**現代標準開発環境によるセキュリティ対策**を採用する。

- 脅威モデル: 外部攻撃のみ（個人使用）
- 対策レベル: 基本的 Web 脆弱性対策
- 実装方針: 現代的言語・フレームワーク・ツールチェーン標準機能に依存
- SAST: 静的アプリケーションセキュリティテスト組み込み
- 特別要件: なし（金融・医療レベル不要）

<!-- FOUNDATION_END: security -->

### 技術選択への制約

1. **制約なし**: 特別なセキュリティ要件による技術選択制限なし
2. **標準重視**: 現代的開発環境の標準セキュリティ機能で十分
3. **開発効率優先**: セキュリティ機能よりも開発生産性を重視
