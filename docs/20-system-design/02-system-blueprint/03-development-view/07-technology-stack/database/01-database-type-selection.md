---
doc_type: "pattern-choice"
status: "draft"
depends:
  contracts: []
  produces: []
---

# データベース種類選択

## 前提条件とスコープ

この設計判断は CogitoWeave システムのデータ永続化方式の基本選択を扱う。概念管理システムとして必要な3つのコアエンティティ（概念・文献メモ・関係性）の構造を前提とし、データ構造の自然さ・クエリの表現力・保守性を判断基準とする。

## 設計判断の論理

第一に、前提となるデータ構造分析により、CogitoWeave は概念エンティティ、文献メモエンティティ、関係性エンティティという典型的な関係データモデルを持つ。この3つのエンティティ構造は、正規化されたテーブル設計で自然に表現でき、エンティティ間のリレーションシップも明確に定義できる。

第二に、データベース種類として以下の3つの選択肢を比較検討した。

### 選択肢A: Graph Database（Neo4j等）

- 利点: 概念間関係の表現が直感的、グラフクエリによる関係探索
- 欠点: 個人用途に対する過剰な複雑性、学習コスト、運用コスト、構造化データ管理の不自然さ

### 選択肢B: NoSQL Database（MongoDB等）

- 利点: スキーマレス設計、JSON形式での柔軟なデータ表現
- 欠点: 関係性管理の複雑化、JOIN相当処理の実装負荷、ACID保証の制限

### 選択肢C: RDBMS（SQLite・PostgreSQL等）

- 利点: 関係データモデルとの自然な適合、SQL による表現力、ACID保証、豊富なツール群
- 欠点: スキーマ変更の制約、NoSQL比較での柔軟性限界

第三に、CogitoWeave の具体的要求との適合性を評価した。概念・文献メモ・関係というエンティティ構造は、RDBMSの正規化設計で最も自然に表現できる。検索要求（全文検索・関係検索・メタデータ検索）もSQLの表現力で十分対応可能である。

Graph DB は概念間関係の表現において優位性があるが、CogitoWeave では関係性以外にも文献メモ・永続メモ・メタデータ等の構造化データを扱う必要がある。これらの管理において Graph DB は不自然で複雑になる。

NoSQL は柔軟性において優位だが、CogitoWeave のデータ構造は十分に構造化されており、関係性管理において RDBMS の JOIN が提供する表現力が重要である。

## 結論

**選択肢C: RDBMS** を採用する。

CogitoWeave のデータは典型的な関係データモデルであり、RDBMS が最も自然で効率的なデータ管理を提供する。概念間関係はJOINテーブルで表現し、全文検索はRDBMS標準機能（FTS）で対応する。

**次の段階**: [RDBMS具体選択](02-rdbms-specific-selection.md)
