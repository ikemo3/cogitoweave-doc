---
doc_type: "pattern-choice"
status: "draft"
depends:
  contracts: []
  produces: []
---

# バックエンドフレームワーク選択

## 前提条件とスコープ

この設計判断は Python 採用決定後のWebフレームワーク選択を扱う。[01-language-selection.md](01-language-selection.md) により Python 採用が確定していることを前提とする。RESTful API中心のアーキテクチャ・型安全性・プロトタイプ開発効率を重視する。API開発効率・型安全性・自動ドキュメント生成を判断基準とする。

## 設計判断の論理

第一に、CogitoWeave のアーキテクチャ要求を分析した結果、RESTful API サーバーとしての機能が中心であり、従来的なWebアプリケーション機能（テンプレート・セッション管理等）は最小限であることが明確になった。フロントエンドとバックエンドの分離により、API仕様の明確性と開発効率が重要である。

第二に、Python Webフレームワークとして以下の3つの選択肢を比較検討した。

### 選択肢A: Django

- 利点: 成熟したエコシステム、包括的機能（ORM・管理画面・認証）、豊富な情報
- 欠点: API専用用途に対する過剰機能、設定複雑性、型安全性サポート限定

### 選択肢B: Flask

- 利点: 軽量・シンプル、高い自由度、学習コスト低
- 欠点: API開発における標準機能不足、型安全性サポート不十分、ボイラープレート多

### 選択肢C: FastAPI

- 利点: API開発特化、型ヒント統合、自動ドキュメント生成、高性能非同期
- 欠点: 比較的新しい（情報量制限）、フルスタック機能限定

第三に、CogitoWeave の具体的開発要求との適合性を評価した。プロトタイプ開発では API 仕様の迅速な検証・変更が重要であり、自動ドキュメント生成（OpenAPI/Swagger）による仕様共有が開発効率を大幅に向上させる。

Django の包括的機能は CogitoWeave の API 中心アーキテクチャに対して過剰仕様であり、設定複雑性がプロトタイプ開発を阻害する。Flask は軽量だが、API 開発における基本機能（バリデーション・シリアライゼーション・ドキュメント生成）を手動実装する必要があり、開発効率が低下する。

FastAPI は Python 型ヒントと直接統合されており、リクエスト・レスポンスの型安全性を開発時に検証できる。Pydantic による自動バリデーション・シリアライゼーションにより、データ整合性を保ちながら高速な API 開発が可能である。

自動生成される OpenAPI ドキュメントは、フロントエンド開発との API 仕様共有を簡素化し、LLM 統合における API 呼び出しテストも効率化する。

## 結論

**選択肢C: FastAPI** を採用する。

API開発特化による高い生産性、型ヒント統合による安全性、自動ドキュメント生成による仕様共有効率により、CogitoWeave のプロトタイプ開発に最適である。
