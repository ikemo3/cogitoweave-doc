---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts:
    - "individual-development-constraints"
    - "architecture-style"
  produces:
    - "system-decomposition"
---

# システム分割

## 前提

選択したアーキテクチャスタイルに基づき、システム分割方針を決定する。基本的には 1 システム 1 チーム構成が望ましく、複数システム管理はチーム負担が大きい。

### 既存決定事項

<!-- PREMISE_BEGIN: individual-development-constraints -->

- **個人リソース制約**
  - 限られた予算（月 1000 円）と時間（週 7 時間）に適応した効率的な開発手法を選択する
  - 自宅サーバーと Cloudflare サービスの最大限活用により追加コストを最小化する
  - シンプルで理解しやすい構造、一人で管理可能な複雑度に制限する
- **個人開発方針**
  - 学習目的での技術採用は許容する
  - 複雑なコードレビュー・品質標準・セキュリティ監査等の配慮は不要である
  - 他者からの評価や社会的な標準に合わせる必要がない

<!-- PREMISE_END: individual-development-constraints -->

<!-- PREMISE_BEGIN: architecture-style -->

**レイヤードアーキテクチャ**を採用する。

<!-- PREMISE_END: architecture-style -->

## 論理

### システム分割判断基準

CogitoWeave の制約条件:

1. **一人開発**: 複数システム管理は負荷が大きい
2. **リソース制約**: 管理・運用コストを最小化する必要
3. **レイヤードアーキテクチャ**: 層構造による論理分離が可能

### 分割選択肢

#### 選択肢 1: 単一システム構成

- 全機能を 1 つのシステムに統合
- 管理負荷最小、一人開発に最適
- レイヤードアーキテクチャ内の層分離で責務分担

#### 選択肢 2: 機能別システム分離

- フロントエンド・バックエンド・外部 API 統合で分離
- 技術スタック最適化は可能だが管理負荷増加
- 一人開発には複雑すぎる

### Bootstrap 的開発との整合性

段階的機能追加を考慮すると、最初は統合構成で開始し、パフォーマンス・管理上の問題が生じた場合のみ外部依存処理(LLM・記事取得等)をマイクロサービス化する段階的アプローチが適切。

## 結論

<!-- FOUNDATION_BEGIN: system-decomposition -->

**単一システム構成**を採用する。

外部依存の重い処理(LLM 協働・記事取得)については、将来的にマイクロサービス化する可能性を残すが、初期実装は統合構成とする。

<!-- FOUNDATION_END: system-decomposition -->

### 選択理由

1. **管理負荷軽減**: 一人開発に適した最小限のシステム管理
2. **開発効率**: 統合された開発・テスト・デプロイ環境
3. **段階的拡張**: Bootstrap 的開発に適合した将来の分離可能性を確保
4. **リソース最適化**: 限られた予算・時間での運用コスト最小化
