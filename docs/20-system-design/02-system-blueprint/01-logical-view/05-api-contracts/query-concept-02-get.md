---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts: []
  produces: []
---

# 概念詳細取得API (Query)

## 前提

CogitoWeaveシステムでは概念詳細取得が特定の概念の完全な情報を取得するための参照操作である。概念詳細取得は概念カードUI表示や関連概念の確認で使用される。

概念詳細取得は概念IDを指定して実行され、その概念の詳細情報と関連するエンティティの情報を返す責務を持つ。

概念詳細取得はQueryパターンに従うデータ参照操作として、既存概念エンティティの詳細を取得する。

## 論理

### API呼び出し方向

```text
UI → ConceptService.getConcept(Q)
```

**役割名ベース**: ConceptServiceが概念管理の責務を担当

### 入力項目 (概念レベル)

- **概念ID**: 取得対象の概念の一意識別子
- **詳細レベル**: 基本情報のみ・関連情報含む等の取得範囲
- **関連取得オプション**: 関連概念・文献メモ・グループ等の含有設定

### 出力項目 (概念レベル)

- **概念基本情報**: 概念ID・概念名・説明・作成日時・更新日時
- **関連概念情報**: 起点・終点となる関連概念の一覧
- **文献メモ数**: この概念に紐付く文献メモの件数
- **所属グループ**: この概念が所属する概念グループの一覧

### エラー項目 (概念レベル)

- **概念不存在エラー**: 指定された概念IDが存在しない場合
- **権限エラー**: 概念へのアクセス権限がない場合
- **システムエラー**: データベース接続失敗等の内部エラー

### CQRS分類

**Query**: データ参照のみの操作 - 既存概念エンティティの詳細取得

## 結論

概念詳細取得APIは既存概念エンティティの詳細取得を担当するQuery操作として、概念IDを入力とし、詳細な概念情報を返す。

エラーハンドリングでは概念の存在確認とアクセス権限を確認し、適切なエラー情報を提供する。このAPIは概念カードUIの基盤機能として、概念の完全な情報表示を支援する役割を担う。
