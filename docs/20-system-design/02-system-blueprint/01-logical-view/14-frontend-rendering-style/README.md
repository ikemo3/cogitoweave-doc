---
doc_type: "pattern-logic"
status: "draft"
depends:
  contracts: []
  produces:
    - "frontend-rendering-style"
---

# フロントエンドレンダリングスタイル

## 前提

### 他設計書との接続点

<!-- REFERENCE_BEGIN: component-granularity-design -->

CogitoWeave の UI コンポーネント責務として、階層的な粒度設計による軽量なコンポーネント指向アーキテクチャを採用する。

- **最小粒度**: ボタン・入力フィールド・ラベル等の基本 UI 要素レベル
  - 単一責務の原則により、一つの操作または表示に特化する。
- **統合粒度**: カード・パネル・モーダル等の機能単位レベル
  - 複数の基本要素を組み合わせた意味のある機能を提供する。
- **階層アプローチ**: 統合コンポーネント内で基本コンポーネントを組み合わせる
  - 外部からは統合コンポーネントとして使用し、内部実装では基本コンポーネントで構成する。

<!-- REFERENCE_END: component-granularity-design -->

<!-- REFERENCE_BEGIN: screen-transition-design -->

シンプルなタブ切り替えによる 3 画面間の移動を提供する。操作の複雑度を抑制し直感的なナビゲーションを実現する。

<!-- REFERENCE_END: screen-transition-design -->

<!-- REFERENCE_BEGIN: ui-tech-approach -->

CogitoWeave の UI 技術方針として、Web 技術による柔軟な実装アプローチを採用する。プラットフォーム制約によりネイティブアプリ開発は除外され、マルチデバイス対応とユーザーインタラクション特性を考慮した選択肢から最適解を選択する。

### 除外される技術選択肢

- **ネイティブアプリ**: プラットフォーム制約により除外済み
- **SSG(Static Site Generation)**: 編集機能中心に矛盾し、マルチデバイス共有に適さない
- **ローカルオンリー**: マルチデバイス前提制約に違反

### 許容される技術選択肢

- **レンダリング方式**: CSR、SSR、またはハイブリッドアプローチのいずれも可能である
  - プライベート用途により SEO 要件がないため、CSR の制約がない
  - 初回ロード速度重視により SSR の利点もある
- **アプリケーション構造**: SPA、MPA、または SPA ベース+ページ分割のハイブリッドアプローチのいずれも可能である
  - 作業完結型の操作パターンにより MPA に適合する
  - 効率性重視の継続利用により SPA の利点もある
- **コンポーネント方針**: 軽量コンポーネント指向を基本とし、必要に応じてページ指向も選択可能である
  - UI 要素の再利用性と一貫性確保が必要
  - デザインシステムレベルまでは不要

### 技術方針決定の基準

具体的な技術選択は、Development View において以下の基準で決定する:

- 保守性と理解しやすさの優先
- 一人での管理可能な複雑度
- Mac 環境での情報整理機能と iPhone 環境での情報参照機能の最適化

<!-- REFERENCE_END: ui-tech-approach -->

### 確立された事実

<!-- REFERENCE_BEGIN: target-platforms -->

- 必須対応
  - 情報整理機能: Mac (Chrome) - デスクトップ環境中心
  - 情報参照機能: Mac (Chrome) + iPhone (Safari) - 全環境対応
  - 実行環境: Web 技術による実装、複数デバイス間でのデータ共有を前提
- 任意対応
  - 作成者環境外での動作は妨げないが保証しない
  - Web 技術による実装のため、一般的なモダンブラウザで基本動作は期待できる
- 除外対応
  - ネイティブアプリ開発(iOS・macOS 別実装)
  - ローカルストレージのみによる単一デバイス運用

<!-- REFERENCE_END: target-platforms -->

#### 開発・保守体制制約

<!-- REFERENCE_BEGIN: development-constraints -->

- シンプルで理解しやすい構造、一人で管理可能な複雑度に制限する。

<!-- REFERENCE_END: development-constraints -->

### 判断基準

フロントエンドレンダリング方式の選択において、画面間の状態共有効率、コンポーネント構成の適合性、保守性を判断基準とする。

### スコープ境界

フロントエンドのレンダリング方式の決定のみを扱い、具体的なフレームワーク選択・実装詳細・デプロイメント構成は扱わない。

## 論理

第一に、CogitoWeave の画面構成は 3 画面間でのシームレスなデータ共有を前提としている。概念・文献メモ・関係性の状態が画面間で頻繁に参照され、編集中データの継続性が重要である。この特性は、クライアントサイドでの状態管理が効率的であることを示している。

第二に、軽量コンポーネント指向アーキテクチャは、クライアントサイドでの動的な組み立てに適している。基本コンポーネントを統合コンポーネントで組み合わせる階層アプローチは、クライアント主導の柔軟な構成により最適化される。サーバーサイドレンダリングでは、この動的な組み立ての利点が十分に活用できない。

第三に、個人用途という特性により、初回ロード時間の最適化よりも継続利用での効率性が重要である。SEO 要件もないため、SSR の主要な利点である検索エンジン最適化と初回表示速度向上の恩恵は限定的である。一人開発における保守性を考慮すると、シンプルな CSR 構成が最適である。

## 結論

<!-- GLOBAL_CONCLUSION_BEGIN: frontend-rendering-style -->

CogitoWeave のフロントエンドレンダリングスタイルとして**CSR(Client-Side Rendering)**を採用する。3 画面間の状態共有効率と軽量なコンポーネント指向の特性を活かし、一人での開発における保守性と理解しやすさを確保する。

<!-- GLOBAL_CONCLUSION_END: frontend-rendering-style -->
